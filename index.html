<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Колесо Фортуны</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding-top: 50px;
    }
    
    #wheel-container {
      position: relative;
      margin: 0 auto;
      width: 300px;
      height: 300px;
    }
    
    #wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 5px solid #333;
      overflow: hidden;
      position: relative;
    }
    
    .segment {
      position: absolute;
      width: 50%;
      height: 50%;
      top: 50%;
      left: 50%;
      transform-origin: 0 0;
      color: #fff;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      font-size: 14px;
      line-height: 1.2;
    }
    
    .segment span {
      position: absolute;
      top: 50%;
      left: 100%;
      transform: rotate(90deg) translate(-50%, -50%);
      white-space: nowrap;
    }
    
    #spinButton {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="wheel-container">
  <div id="wheel"></div>
</div>
<button id="spinButton">Крутить</button>

<script>
  // Список призов или значений сегментов
  const segments = [
    'Приз 1',
    'Приз 2',
    'Приз 3',
    'Приз 4',
    'Приз 5',
    'Приз 6'
  ];

  const wheel = document.getElementById('wheel');
  const spinButton = document.getElementById('spinButton');
  const numSegments = segments.length;
  const segmentAngle = 360 / numSegments;

  // Функция для создания сегментов колеса
  function createWheel() {
    segments.forEach((text, index) => {
      const segment = document.createElement('div');
      segment.classList.add('segment');
      // Устанавливаем угол поворота сегмента
      segment.style.transform = `rotate(${index * segmentAngle}deg) skewY(${90 - segmentAngle}deg)`;
      // Чередование цветов
      segment.style.background = index % 2 === 0 ? '#FF4500' : '#FFD700';
      segment.style.width = '200%';
      segment.style.height = '200%';

      // Добавление текста в сегмент
      const span = document.createElement('span');
      span.textContent = text;
      // Поворачиваем текст для корректного отображения
      span.style.transform = `rotate(${segmentAngle/2}deg)`;
      segment.appendChild(span);

      wheel.appendChild(segment);
    });
  }

  // Запускаем генерацию колеса
  createWheel();

  spinButton.addEventListener('click', () => {
    // Вычисляем случайный угол для вращения (минимум 3 полных оборота)
    const randomAngle = Math.floor(Math.random() * 360) + (360 * 3);
    
    // Применяем анимацию вращения
    wheel.style.transition = 'transform 5s ease-out';
    wheel.style.transform = `rotate(${randomAngle}deg)`;

    // После завершения анимации сбрасываем эффект перехода
    wheel.addEventListener('transitionend', () => {
      const actualAngle = randomAngle % 360;
      wheel.style.transition = 'none';
      wheel.style.transform = `rotate(${actualAngle}deg)`;
    }, { once: true });
  });
</script>
</body>
</html>